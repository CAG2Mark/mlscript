:bbml
//│ Type: ⊤


:fixme // parsing
fun f x = f
//│ ═══[ERROR] Function definition shape not yet supported for x
//│ Type: ⊤

fun f(x) = f
f
//│ Type: forall α0_2: ⊤ -> (⊤ -> α0_2)
//│ Where:
//│   ⊤ -> α0_2 <: α0_2

fun f(x) = f(x)
f
//│ Type: ⊤ -> ⊥

:todo
fun f(x) = f(x.a)
//│ ╔══[ERROR] Term shape not yet supported by BbML: Sel(Ref(x@57),Ident(a))
//│ ║  l.21: 	fun f(x) = f(x.a)
//│ ╙──      	             ^
//│ Type: ⊤


class Foo[A](a: A)
//│ Type: ⊤

:todo proper error
Foo(123)
//│ ╔══[ERROR] Variable not found: Foo
//│ ║  l.32: 	Foo(123)
//│ ╙──      	^^^
//│ Type: ⊥

new Foo(123)
//│ Type: Foo[α12_1]
//│ Where:
//│   Int <: α12_1

:todo proper error
fun f(x) = f(Foo.a(x))
//│ ═══[ERROR] Term shape not yet supported by BbML: Sel(Sel(Ref(globalThis:block#4),Ident(Foo)),Ident(a))
//│ Type: ⊤

fun f(x) = f(x.Foo#a)
f
//│ Type: forall α20_2: Foo[out α20_2] -> ⊥
//│ Where:
//│   α20_2 <: Foo[out α20_2]


