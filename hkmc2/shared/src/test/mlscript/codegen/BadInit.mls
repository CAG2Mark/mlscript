:js


:todo // check init
:sjs
:re
module Bar with
  val x = 1
  module Baz with
    val a = Bar.x
//│ JS:
//│ const Bar$class = class Bar {
//│   constructor() {
//│     this.x = 1;
//│     const Baz$class = class Baz {
//│       constructor() {
//│         let selRes, tmp;
//│         selRes = globalThis.Bar.x;
//│         if (selRes === undefined) {
//│           throw new globalThis.Error("Access to required field 'x' yielded 'undefined'");
//│         } else {
//│           tmp = selRes;
//│         }
//│         this.a = tmp;
//│       }
//│       toString() { return "Baz"; }
//│     };
//│     this.Baz = new Baz$class;
//│     this.Baz.class = Baz$class;
//│   }
//│   toString() { return "Bar"; }
//│ };
//│ this.Bar = new Bar$class;
//│ this.Bar.class = Bar$class;
//│ null
//│ ═══[RUNTIME ERROR] TypeError: Cannot read properties of undefined (reading 'x')


