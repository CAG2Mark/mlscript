:js

:import PredefJS.mls
//│ Imported 1 member(s)



fun foo() =
  let x = 1
  let f = () => x
  let x = 2
  f()

foo()
//│ = 1



// FIXME should pick a different private field name for each `x`:



let x = 1
let f = () => x
//│ x = 1
//│ f = [Function (anonymous)]

f()
//│ = 1

let x = 2
//│ x = 2

f()
//│ = 2



:fixme
class Foo with
  let x = 1
  let f = () => x
  log(f())
  let x = 2
  log(f())
//│ ═══[COMPILATION ERROR] [Uncaught SyntaxError] Identifier '#x' has already been declared



