:js


fun foo() =
  let x = 1
  let f = () => x
  fun g() = x
  let x = 2
  f()
  g()

foo()
//│ = 1



// FIXME should pick a different private field name for each `x`:



let x = 1
let f = () => x
//│ f = [Function (anonymous)]
//│ x = 1

f()
//│ = 1

let x = 2
//│ x = 2

f()
//│ = 2



:fixme
class Foo with
  let x = 1
  let f = () => x
  fun g() = x
  print(f())
  let x = 2
  print(x)
  print(f())
  print(g())
//│ ═══[COMPILATION ERROR] [Uncaught SyntaxError] Identifier '#x' has already been declared



