:js

:import PredefJS.mls
//│ Imported 2 member(s)


:sjs
val x = 2
fun foo() =
  x + 1
//│ JS:
//│ this.x = 2;
//│ function foo(...args) {
//│   globalThis.Predef.checkArgs("foo", 0, true, args.length);
//│   return globalThis.x + 1;
//│ }
//│ undefined
//│ x = 2

:sjs
class Test with
  log(foo())
//│ JS:
//│ this.Test = class Test {
//│   constructor() {
//│     let tmp;
//│     tmp = globalThis.foo() ?? null;
//│     globalThis.log(tmp) ?? null
//│   }
//│   toString() { return "Test"; }
//│ };
//│ undefined

new Test
//│ > 3
//│ = Test {}


