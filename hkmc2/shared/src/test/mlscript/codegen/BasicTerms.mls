:js

:global
:sjs


1
//│ JS:
//│ 1
//│ = 1

:lot
:w
1
2
//│ ╔══[WARNING] Pure expression in statement position
//│ ║  l.14: 	1
//│ ╙──      	^
//│ Lowered:
//│ Program:
//│   imports = Nil
//│   main = Return:
//│     res = Lit of IntLit of 2
//│     implct = true
//│ JS:
//│ 2
//│ = 2


:fixme // should be a "linking" error
log("Hi")
//│ JS:
//│ this.log("Hi")
//│ ═══[RUNTIME ERROR] TypeError: this.log is not a function

:fixme
:lot
log("Hi")
2
//│ Lowered:
//│ Program:
//│   imports = Nil
//│   main = Assign:
//│     lhs = $tmp
//│     rhs = Call:
//│       fun = Select:
//│         qual = Ref of globalThis:import#Prelude
//│         name = Ident of "log"
//│       args = Ls of 
//│         Lit of StrLit of "Hi"
//│     rest = Return: \
//│     res = Lit of IntLit of 2
//│     implct = true
//│ JS:
//│ let tmp; tmp = this.log("Hi"); 2
//│ ═══[RUNTIME ERROR] TypeError: this.log is not a function


:re
2(2)
//│ JS:
//│ 2(2)
//│ ═══[RUNTIME ERROR] TypeError: 2 is not a function


