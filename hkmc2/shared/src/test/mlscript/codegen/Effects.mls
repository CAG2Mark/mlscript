:js

// note: seems we can't use traits yet :|
:fixme
class Effect with
  fun perform(arg): Str -> Str
fun foo(e) = e.perform("hi")
handle h = Effect with
  fun perform(arg, k) = k(arg)
in
  foo(h)
//│ ╔══[COMPILATION ERROR] Effect handlers are not enabled
//│ ║  l.9: 	  fun perform(arg, k) = k(arg)
//│ ╙──     	                        ^^^^^^
//│ ═══[RUNTIME ERROR] TypeError: Cannot read properties of undefined (reading 'perform')
