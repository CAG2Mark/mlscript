:js
:ucs desugared normalized

:import ../Prelude/Option.mls
//│ Imported 3 member(s)

fun add_6(x, y) =
  if [x, y] is
    [Some(xv), Some(yv)] then xv + yv
    [Some(xv), None]     then xv
    [None,     Some(yv)] then yv
    [None,     None]     then 0
//│ Desugared:
//│ >  if
//│ >    let $scrut@16 = [x@14#666, y@15#666]
//│ >    $scrut@16 is []=2 and
//│ >      let $first0@18 = $scrut@16#10.0
//│ >      let $first1@17 = $scrut@16#11.1
//│ >      $first0@18 is Some($param0@21) and
//│ >        let xv@23 = $param0@21#1
//│ >        $first1@17 is Some($param0@19) and
//│ >          let yv@24 = $param0@19#1
//│ >          else builtin:+#0(xv@23#666, yv@24#666)
//│ >    $scrut@16 is []=2 and
//│ >      let $first0@18 = $scrut@16#7.0
//│ >      let $first1@17 = $scrut@16#8.1
//│ >      $first0@18 is Some($param0@21) and
//│ >        let xv@22 = $param0@21#0
//│ >        $first1@17 is None then xv@22#666
//│ >    $scrut@16 is []=2 and
//│ >      let $first0@18 = $scrut@16#4.0
//│ >      let $first1@17 = $scrut@16#5.1
//│ >      $first0@18 is None and $first1@17 is Some($param0@19) and
//│ >        let yv@20 = $param0@19#0
//│ >        else yv@20#666
//│ >    $scrut@16 is []=2 and
//│ >      let $first0@18 = $scrut@16#1.0
//│ >      let $first1@17 = $scrut@16#2.1
//│ >      $first0@18 is None $first1@17 is None then 0
//│ Normalized:
//│ >  if
//│ >    let $scrut@16 = [x@14#666, y@15#666]
//│ >    $scrut@16 is []=2 and
//│ >      let $first0@18 = $scrut@16#10.0
//│ >      let $first1@17 = $scrut@16#11.1
//│ >      $first0@18 is Some($param0@21) and
//│ >        let xv@23 = $param0@21#1
//│ >        $first1@17 is Some($param0@19) and
//│ >          let yv@24 = $param0@19#1
//│ >          else builtin:+#0(xv@23#666, yv@24#666)
//│ >        let xv@22 = $param0@21#0
//│ >        $first1@17 is None then xv@22#666
//│ >      $first0@18 is None and
//│ >        $first1@17 is Some($param0@19) and
//│ >          let yv@20 = $param0@19#0
//│ >          else yv@20#666
//│ >        $first1@17 is None then 0
